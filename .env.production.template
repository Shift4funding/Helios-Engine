# Production Environment Configuration Template
# Copy this file to .env.production and update with your actual production values

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# ============================================================================
# API SECURITY
# ============================================================================
# Generate a strong API key for production
API_KEY=CHANGE_THIS_TO_STRONG_RANDOM_KEY
RATE_LIMIT_MAX=50
RATE_LIMIT_WINDOW_MS=900000

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=warn
LOG_FORMAT=json

# ============================================================================
# MONGODB ATLAS PRODUCTION CONFIGURATION
# ============================================================================
# Replace with your production MongoDB Atlas connection string
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority&appName=<app-name>
MONGO_URI=mongodb+srv://PROD_USER:STRONG_PASSWORD@your-prod-cluster.mongodb.net/bank-statement-analyzer-prod?retryWrites=true&w=majority&appName=bank-statement-analyzer-prod
MONGODB_URI=mongodb+srv://PROD_USER:STRONG_PASSWORD@your-prod-cluster.mongodb.net/bank-statement-analyzer-prod?retryWrites=true&w=majority&appName=bank-statement-analyzer-prod

# Test database (can be same as prod or separate)
MONGODB_TEST_URI=mongodb+srv://TEST_USER:TEST_PASSWORD@your-test-cluster.mongodb.net/bank-statement-analyzer-test?retryWrites=true&w=majority&appName=bank-statement-analyzer-test

# ============================================================================
# REDIS PRODUCTION CONFIGURATION
# ============================================================================
# Use Redis Cloud or your own Redis instance for production
REDIS_HOST=your-redis-host.com
REDIS_PORT=6379
REDIS_USERNAME=default
REDIS_PASSWORD=your-strong-redis-password
REDIS_TLS=true

# ============================================================================
# PERPLEXITY API CONFIGURATION
# ============================================================================
PERPLEXITY_API_KEY=your-production-perplexity-api-key
PERPLEXITY_API_URL=https://api.perplexity.ai/chat/completions

# ============================================================================
# GOOGLE CLOUD STORAGE PRODUCTION
# ============================================================================
# Use service account key file or workload identity for production
GOOGLE_APPLICATION_CREDENTIALS=./config/production-service-account.json
GCP_PROJECT_ID=your-production-project-id
GCS_BUCKET_NAME=bank-statements-analyzer-prod

# ============================================================================
# JWT PRODUCTION CONFIGURATION
# ============================================================================
# Generate a strong, unique JWT secret for production (512-bit recommended)
JWT_SECRET=GENERATE_STRONG_512_BIT_SECRET_FOR_PRODUCTION_USE_CRYPTO_RANDOM
JWT_EXPIRES_IN=24h

# ============================================================================
# ZOHO CRM PRODUCTION OAUTH CONFIGURATION
# ============================================================================
# Zoho OAuth 2.0 credentials for production
ZOHO_CLIENT_ID=your-production-zoho-client-id
ZOHO_CLIENT_SECRET=your-production-zoho-client-secret
ZOHO_REFRESH_TOKEN=your-production-zoho-refresh-token
ZOHO_ACCESS_TOKEN=your-production-zoho-access-token
ZOHO_TOKEN_EXPIRY=1640995200000
ZOHO_SCOPE=ZohoCRM.modules.ALL,ZohoCRM.users.READ

# Zoho API endpoints
ZOHO_AUTH_URL=https://accounts.zoho.com/oauth/v2/token
ZOHO_API_BASE_URL=https://www.zohoapis.com/crm/v2

# ============================================================================
# SOS VERIFICATION PRODUCTION CONFIGURATION
# ============================================================================
# Browser automation settings for production (headless mode)
SOS_BROWSER_HEADLESS=true
SOS_BROWSER_TIMEOUT=30000
SOS_MAX_CONCURRENT_VERIFICATIONS=3
SOS_VERIFICATION_CACHE_TTL=86400

# Browser executable path (leave empty for auto-detection)
SOS_BROWSER_EXECUTABLE=

# ============================================================================
# FEATURE FLAGS
# ============================================================================
USE_REDIS=true
USE_GCS=true
USE_ZOHO_INTEGRATION=true
USE_SOS_VERIFICATION=true

# ============================================================================
# SECURITY HEADERS AND CORS
# ============================================================================
CORS_ORIGIN=https://your-frontend-domain.com
ALLOWED_HOSTS=your-api-domain.com,your-frontend-domain.com

# ============================================================================
# MONITORING AND HEALTH CHECKS
# ============================================================================
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
ERROR_TRACKING_DSN=your-sentry-or-error-tracking-dsn

# ============================================================================
# SSL/TLS CONFIGURATION
# ============================================================================
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/private-key.pem
FORCE_HTTPS=true

# ============================================================================
# BACKUP AND MAINTENANCE
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
MAINTENANCE_MODE=false

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
MAX_FILE_SIZE=10MB
MAX_CONCURRENT_UPLOADS=5
CONNECTION_TIMEOUT=30000
REQUEST_TIMEOUT=60000

# ============================================================================
# NOTES FOR PRODUCTION SETUP
# ============================================================================
# 1. Replace ALL placeholder values with actual production credentials
# 2. Generate strong, unique passwords and secrets
# 3. Set up proper SSL certificates
# 4. Configure MongoDB Atlas with production cluster
# 5. Set up Zoho OAuth application for production domain
# 6. Test all integrations before going live
# 7. Enable monitoring and error tracking
# 8. Set up automated backups
# 9. Configure proper CORS origins
# 10. Enable rate limiting and security headers
