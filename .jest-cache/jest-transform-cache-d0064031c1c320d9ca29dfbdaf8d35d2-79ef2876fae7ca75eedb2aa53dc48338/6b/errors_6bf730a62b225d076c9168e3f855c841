62113d1ad2c6a4ce7ca951bfc137f881
"use strict";

class AppError extends Error {
  constructor(message, statusCode = 500, isOperational = true) {
    super(message);
    this.statusCode = statusCode;
    this.status = `${statusCode}`.startsWith('4') ? 'fail' : 'error';
    this.isOperational = isOperational;
    Error.captureStackTrace(this, this.constructor);
  }
}
class PDFParseError extends AppError {
  constructor(message) {
    super(message, 400);
    this.name = 'PDFParseError';
  }
}
class LLMError extends AppError {
  constructor(message, statusCode = 500) {
    super(message, statusCode);
    this.name = 'LLMError';
  }
}
class ValidationError extends AppError {
  constructor(message) {
    super(message, 400);
    this.name = 'ValidationError';
  }
}
class RateLimitError extends Error {
  constructor(message) {
    super(message);
    this.name = 'RateLimitError';
    this.statusCode = 429;
  }
}
module.exports = {
  AppError,
  PDFParseError,
  LLMError,
  ValidationError,
  RateLimitError
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcHBFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsImlzT3BlcmF0aW9uYWwiLCJzdGF0dXMiLCJzdGFydHNXaXRoIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJQREZQYXJzZUVycm9yIiwibmFtZSIsIkxMTUVycm9yIiwiVmFsaWRhdGlvbkVycm9yIiwiUmF0ZUxpbWl0RXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZXJyb3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwcEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzQ29kZSA9IDUwMCwgaXNPcGVyYXRpb25hbCA9IHRydWUpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gYCR7c3RhdHVzQ29kZX1gLnN0YXJ0c1dpdGgoJzQnKSA/ICdmYWlsJyA6ICdlcnJvcic7XHJcbiAgICAgICAgdGhpcy5pc09wZXJhdGlvbmFsID0gaXNPcGVyYXRpb25hbDtcclxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUERGUGFyc2VFcnJvciBleHRlbmRzIEFwcEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlLCA0MDApO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdQREZQYXJzZUVycm9yJztcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTExNRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXNDb2RlID0gNTAwKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgc3RhdHVzQ29kZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ0xMTUVycm9yJztcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIDQwMCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcic7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdSYXRlTGltaXRFcnJvcic7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gNDI5O1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIEFwcEVycm9yLFxyXG4gICAgUERGUGFyc2VFcnJvcixcclxuICAgIExMTUVycm9yLFxyXG4gICAgVmFsaWRhdGlvbkVycm9yLFxyXG4gICAgUmF0ZUxpbWl0RXJyb3JcclxufTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxTQUFTQyxLQUFLLENBQUM7RUFDekJDLFdBQVdBLENBQUNDLE9BQU8sRUFBRUMsVUFBVSxHQUFHLEdBQUcsRUFBRUMsYUFBYSxHQUFHLElBQUksRUFBRTtJQUN6RCxLQUFLLENBQUNGLE9BQU8sQ0FBQztJQUNkLElBQUksQ0FBQ0MsVUFBVSxHQUFHQSxVQUFVO0lBQzVCLElBQUksQ0FBQ0UsTUFBTSxHQUFHLEdBQUdGLFVBQVUsRUFBRSxDQUFDRyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxHQUFHLE9BQU87SUFDaEUsSUFBSSxDQUFDRixhQUFhLEdBQUdBLGFBQWE7SUFDbENKLEtBQUssQ0FBQ08saUJBQWlCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQ04sV0FBVyxDQUFDO0VBQ25EO0FBQ0o7QUFFQSxNQUFNTyxhQUFhLFNBQVNULFFBQVEsQ0FBQztFQUNqQ0UsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQ2pCLEtBQUssQ0FBQ0EsT0FBTyxFQUFFLEdBQUcsQ0FBQztJQUNuQixJQUFJLENBQUNPLElBQUksR0FBRyxlQUFlO0VBQy9CO0FBQ0o7QUFFQSxNQUFNQyxRQUFRLFNBQVNYLFFBQVEsQ0FBQztFQUM1QkUsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEdBQUcsR0FBRyxFQUFFO0lBQ25DLEtBQUssQ0FBQ0QsT0FBTyxFQUFFQyxVQUFVLENBQUM7SUFDMUIsSUFBSSxDQUFDTSxJQUFJLEdBQUcsVUFBVTtFQUMxQjtBQUNKO0FBRUEsTUFBTUUsZUFBZSxTQUFTWixRQUFRLENBQUM7RUFDbkNFLFdBQVdBLENBQUNDLE9BQU8sRUFBRTtJQUNqQixLQUFLLENBQUNBLE9BQU8sRUFBRSxHQUFHLENBQUM7SUFDbkIsSUFBSSxDQUFDTyxJQUFJLEdBQUcsaUJBQWlCO0VBQ2pDO0FBQ0o7QUFFQSxNQUFNRyxjQUFjLFNBQVNaLEtBQUssQ0FBQztFQUMvQkMsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQ2pCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDO0lBQ2QsSUFBSSxDQUFDTyxJQUFJLEdBQUcsZ0JBQWdCO0lBQzVCLElBQUksQ0FBQ04sVUFBVSxHQUFHLEdBQUc7RUFDekI7QUFDSjtBQUVBVSxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNiZixRQUFRO0VBQ1JTLGFBQWE7RUFDYkUsUUFBUTtFQUNSQyxlQUFlO0VBQ2ZDO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==