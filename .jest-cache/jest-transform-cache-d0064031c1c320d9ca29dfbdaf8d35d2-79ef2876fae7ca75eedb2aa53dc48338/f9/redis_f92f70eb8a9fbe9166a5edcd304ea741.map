{"version":3,"names":["Redis","require","logger","redisConfig","host","process","env","REDIS_HOST","port","parseInt","REDIS_PORT","username","REDIS_USERNAME","password","REDIS_PASSWORD","connectTimeout","lazyConnect","tls","RedisClient","constructor","client","connect","ping","error","getClient","Error","module","exports"],"sources":["redis.js"],"sourcesContent":["const Redis = require('ioredis');\r\nconst logger = require('./logger');\r\n\r\nconst redisConfig = {\r\n    host: process.env.REDIS_HOST,\r\n    port: parseInt(process.env.REDIS_PORT),\r\n    username: process.env.REDIS_USERNAME,\r\n    password: process.env.REDIS_PASSWORD,\r\n    connectTimeout: 5000,\r\n    lazyConnect: true,\r\n    tls: true\r\n};\r\n\r\nclass RedisClient {\r\n    constructor() {\r\n        this.client = null;\r\n    }\r\n\r\n    async connect() {\r\n        try {\r\n            this.client = new Redis(redisConfig);\r\n            await this.client.ping();\r\n            return this.client;\r\n        } catch (error) {\r\n            logger.error('Redis connection error:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    getClient() {\r\n        if (!this.client) {\r\n            throw new Error('Redis client not initialized');\r\n        }\r\n        return this.client;\r\n    }\r\n}\r\n\r\nmodule.exports = new RedisClient();"],"mappings":";;AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAU,CAAC;AAElC,MAAME,WAAW,GAAG;EAChBC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,UAAU;EAC5BC,IAAI,EAAEC,QAAQ,CAACJ,OAAO,CAACC,GAAG,CAACI,UAAU,CAAC;EACtCC,QAAQ,EAAEN,OAAO,CAACC,GAAG,CAACM,cAAc;EACpCC,QAAQ,EAAER,OAAO,CAACC,GAAG,CAACQ,cAAc;EACpCC,cAAc,EAAE,IAAI;EACpBC,WAAW,EAAE,IAAI;EACjBC,GAAG,EAAE;AACT,CAAC;AAED,MAAMC,WAAW,CAAC;EACdC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,MAAM,GAAG,IAAI;EACtB;EAEA,MAAMC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,IAAI,CAACD,MAAM,GAAG,IAAIpB,KAAK,CAACG,WAAW,CAAC;MACpC,MAAM,IAAI,CAACiB,MAAM,CAACE,IAAI,CAAC,CAAC;MACxB,OAAO,IAAI,CAACF,MAAM;IACtB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZrB,MAAM,CAACqB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC9C,MAAMA,KAAK;IACf;EACJ;EAEAC,SAASA,CAAA,EAAG;IACR,IAAI,CAAC,IAAI,CAACJ,MAAM,EAAE;MACd,MAAM,IAAIK,KAAK,CAAC,8BAA8B,CAAC;IACnD;IACA,OAAO,IAAI,CAACL,MAAM;EACtB;AACJ;AAEAM,MAAM,CAACC,OAAO,GAAG,IAAIT,WAAW,CAAC,CAAC","ignoreList":[]}