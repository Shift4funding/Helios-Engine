63448fd0bcefb5577a5714beb320cd93
"use strict";

// Mock logger
_getJestObj().mock('../../src/config/logger', () => ({
  warn: jest.fn()
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const {
  validateRequest,
  validateFileUpload
} = require('../../src/middleware/validateRequest');
const {
  ValidationError
} = require('../../src/utils/errors');
const {
  body
} = require('express-validator');
describe('Request Validation Middleware', () => {
  let mockReq;
  let mockRes;
  let mockNext;
  beforeEach(() => {
    mockReq = {
      path: '/test',
      headers: {},
      body: {}
    };
    mockRes = {
      status: jest.fn().mockReturnThis(),
      json: jest.fn()
    };
    mockNext = jest.fn();
  });
  describe('validateRequest', () => {
    const testValidations = [body('testField').isString().notEmpty()];
    it('should pass valid request', async () => {
      mockReq.body.testField = 'valid value';
      await validateRequest(testValidations)(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith();
      expect(mockNext).toHaveBeenCalledTimes(1);
    });
    it('should catch validation errors', async () => {
      mockReq.body.testField = '';
      await validateRequest(testValidations)(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(expect.any(ValidationError));
    });
  });
  describe('validateFileUpload', () => {
    it('should pass valid PDF file', () => {
      mockReq.file = {
        mimetype: 'application/pdf',
        size: 1024 * 1024 // 1MB
      };
      validateFileUpload(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith();
      expect(mockNext).toHaveBeenCalledTimes(1);
    });
    it('should reject missing file', () => {
      validateFileUpload(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(expect.objectContaining({
        message: expect.stringContaining('No PDF file provided')
      }));
    });
    it('should reject non-PDF files', () => {
      mockReq.file = {
        mimetype: 'image/jpeg',
        size: 1024
      };
      validateFileUpload(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(expect.objectContaining({
        message: expect.stringContaining('Only PDF files are allowed')
      }));
    });
    it('should reject large files', () => {
      mockReq.file = {
        mimetype: 'application/pdf',
        size: 11 * 1024 * 1024 // 11MB
      };
      validateFileUpload(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(expect.objectContaining({
        message: expect.stringContaining('exceeds 10MB limit')
      }));
    });
    it('should reject invalid PDF signature', () => {
      mockReq.file = {
        mimetype: 'application/pdf',
        size: 1024,
        buffer: Buffer.from('not a real pdf'),
        originalname: 'test.pdf'
      };
      validateFileUpload(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(expect.objectContaining({
        message: expect.stringContaining('Invalid PDF file format')
      }));
    });
  });
  describe('Extended Validations', () => {
    const analysisValidation = [body('dateRange.start').isISO8601(), body('dateRange.end').isISO8601(), body('metadata.requestedBy').isString().notEmpty(), body('metadata.priority').isIn(['low', 'medium', 'high'])];
    it('should validate date range correctly', async () => {
      mockReq.body = {
        dateRange: {
          start: '2025-01-01',
          end: '2025-12-31'
        }
      };
      await validateRequest(analysisValidation)(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith();
    });
    it('should reject invalid date range', async () => {
      mockReq.body = {
        dateRange: {
          start: '2025-12-31',
          end: '2025-01-01'
        }
      };
      await validateRequest(analysisValidation)(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(expect.any(ValidationError));
    });
    it('should validate metadata fields', async () => {
      mockReq.body = {
        metadata: {
          requestedBy: 'John Doe',
          priority: 'high'
        }
      };
      await validateRequest(analysisValidation)(mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ3YXJuIiwiamVzdCIsImZuIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsInZhbGlkYXRlRmlsZVVwbG9hZCIsIlZhbGlkYXRpb25FcnJvciIsImJvZHkiLCJkZXNjcmliZSIsIm1vY2tSZXEiLCJtb2NrUmVzIiwibW9ja05leHQiLCJiZWZvcmVFYWNoIiwicGF0aCIsImhlYWRlcnMiLCJzdGF0dXMiLCJtb2NrUmV0dXJuVGhpcyIsImpzb24iLCJ0ZXN0VmFsaWRhdGlvbnMiLCJpc1N0cmluZyIsIm5vdEVtcHR5IiwiaXQiLCJ0ZXN0RmllbGQiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsImFueSIsImZpbGUiLCJtaW1ldHlwZSIsInNpemUiLCJvYmplY3RDb250YWluaW5nIiwibWVzc2FnZSIsInN0cmluZ0NvbnRhaW5pbmciLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwib3JpZ2luYWxuYW1lIiwiYW5hbHlzaXNWYWxpZGF0aW9uIiwiaXNJU084NjAxIiwiaXNJbiIsImRhdGVSYW5nZSIsInN0YXJ0IiwiZW5kIiwibWV0YWRhdGEiLCJyZXF1ZXN0ZWRCeSIsInByaW9yaXR5Il0sInNvdXJjZXMiOlsidmFsaWRhdGVSZXF1ZXN0LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyB2YWxpZGF0ZVJlcXVlc3QsIHZhbGlkYXRlRmlsZVVwbG9hZCB9ID0gcmVxdWlyZSgnLi4vLi4vc3JjL21pZGRsZXdhcmUvdmFsaWRhdGVSZXF1ZXN0Jyk7XHJcbmNvbnN0IHsgVmFsaWRhdGlvbkVycm9yIH0gPSByZXF1aXJlKCcuLi8uLi9zcmMvdXRpbHMvZXJyb3JzJyk7XHJcbmNvbnN0IHsgYm9keSB9ID0gcmVxdWlyZSgnZXhwcmVzcy12YWxpZGF0b3InKTtcclxuXHJcbi8vIE1vY2sgbG9nZ2VyXHJcbmplc3QubW9jaygnLi4vLi4vc3JjL2NvbmZpZy9sb2dnZXInLCAoKSA9PiAoe1xyXG4gICAgd2FybjogamVzdC5mbigpXHJcbn0pKTtcclxuXHJcbmRlc2NyaWJlKCdSZXF1ZXN0IFZhbGlkYXRpb24gTWlkZGxld2FyZScsICgpID0+IHtcclxuICAgIGxldCBtb2NrUmVxO1xyXG4gICAgbGV0IG1vY2tSZXM7XHJcbiAgICBsZXQgbW9ja05leHQ7XHJcblxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgICAgbW9ja1JlcSA9IHtcclxuICAgICAgICAgICAgcGF0aDogJy90ZXN0JyxcclxuICAgICAgICAgICAgaGVhZGVyczoge30sXHJcbiAgICAgICAgICAgIGJvZHk6IHt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBtb2NrUmVzID0ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxyXG4gICAgICAgICAgICBqc29uOiBqZXN0LmZuKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIG1vY2tOZXh0ID0gamVzdC5mbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ3ZhbGlkYXRlUmVxdWVzdCcsICgpID0+IHtcclxuICAgICAgICBjb25zdCB0ZXN0VmFsaWRhdGlvbnMgPSBbXHJcbiAgICAgICAgICAgIGJvZHkoJ3Rlc3RGaWVsZCcpLmlzU3RyaW5nKCkubm90RW1wdHkoKVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcGFzcyB2YWxpZCByZXF1ZXN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrUmVxLmJvZHkudGVzdEZpZWxkID0gJ3ZhbGlkIHZhbHVlJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlUmVxdWVzdCh0ZXN0VmFsaWRhdGlvbnMpKG1vY2tSZXEsIG1vY2tSZXMsIG1vY2tOZXh0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV4cGVjdChtb2NrTmV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoKTtcclxuICAgICAgICAgICAgZXhwZWN0KG1vY2tOZXh0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgY2F0Y2ggdmFsaWRhdGlvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1vY2tSZXEuYm9keS50ZXN0RmllbGQgPSAnJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlUmVxdWVzdCh0ZXN0VmFsaWRhdGlvbnMpKG1vY2tSZXEsIG1vY2tSZXMsIG1vY2tOZXh0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV4cGVjdChtb2NrTmV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgICAgICAgICBleHBlY3QuYW55KFZhbGlkYXRpb25FcnJvcilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCd2YWxpZGF0ZUZpbGVVcGxvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBwYXNzIHZhbGlkIFBERiBmaWxlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrUmVxLmZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICBtaW1ldHlwZTogJ2FwcGxpY2F0aW9uL3BkZicsXHJcbiAgICAgICAgICAgICAgICBzaXplOiAxMDI0ICogMTAyNCAvLyAxTUJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhbGlkYXRlRmlsZVVwbG9hZChtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBleHBlY3QobW9ja05leHQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChtb2NrTmV4dCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJlamVjdCBtaXNzaW5nIGZpbGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlRmlsZVVwbG9hZChtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBleHBlY3QobW9ja05leHQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdObyBQREYgZmlsZSBwcm92aWRlZCcpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJlamVjdCBub24tUERGIGZpbGVzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrUmVxLmZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICBtaW1ldHlwZTogJ2ltYWdlL2pwZWcnLFxyXG4gICAgICAgICAgICAgICAgc2l6ZTogMTAyNFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFsaWRhdGVGaWxlVXBsb2FkKG1vY2tSZXEsIG1vY2tSZXMsIG1vY2tOZXh0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV4cGVjdChtb2NrTmV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ09ubHkgUERGIGZpbGVzIGFyZSBhbGxvd2VkJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmVqZWN0IGxhcmdlIGZpbGVzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrUmVxLmZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICBtaW1ldHlwZTogJ2FwcGxpY2F0aW9uL3BkZicsXHJcbiAgICAgICAgICAgICAgICBzaXplOiAxMSAqIDEwMjQgKiAxMDI0IC8vIDExTUJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhbGlkYXRlRmlsZVVwbG9hZChtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBleHBlY3QobW9ja05leHQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdleGNlZWRzIDEwTUIgbGltaXQnKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBQREYgc2lnbmF0dXJlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrUmVxLmZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICBtaW1ldHlwZTogJ2FwcGxpY2F0aW9uL3BkZicsXHJcbiAgICAgICAgICAgICAgICBzaXplOiAxMDI0LFxyXG4gICAgICAgICAgICAgICAgYnVmZmVyOiBCdWZmZXIuZnJvbSgnbm90IGEgcmVhbCBwZGYnKSxcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsbmFtZTogJ3Rlc3QucGRmJ1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFsaWRhdGVGaWxlVXBsb2FkKG1vY2tSZXEsIG1vY2tSZXMsIG1vY2tOZXh0KTtcclxuICAgICAgICAgICAgZXhwZWN0KG1vY2tOZXh0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnSW52YWxpZCBQREYgZmlsZSBmb3JtYXQnKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdFeHRlbmRlZCBWYWxpZGF0aW9ucycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBhbmFseXNpc1ZhbGlkYXRpb24gPSBbXHJcbiAgICAgICAgICAgIGJvZHkoJ2RhdGVSYW5nZS5zdGFydCcpLmlzSVNPODYwMSgpLFxyXG4gICAgICAgICAgICBib2R5KCdkYXRlUmFuZ2UuZW5kJykuaXNJU084NjAxKCksXHJcbiAgICAgICAgICAgIGJvZHkoJ21ldGFkYXRhLnJlcXVlc3RlZEJ5JykuaXNTdHJpbmcoKS5ub3RFbXB0eSgpLFxyXG4gICAgICAgICAgICBib2R5KCdtZXRhZGF0YS5wcmlvcml0eScpLmlzSW4oWydsb3cnLCAnbWVkaXVtJywgJ2hpZ2gnXSlcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGRhdGUgcmFuZ2UgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrUmVxLmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlUmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogJzIwMjUtMDEtMDEnLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogJzIwMjUtMTItMzEnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB2YWxpZGF0ZVJlcXVlc3QoYW5hbHlzaXNWYWxpZGF0aW9uKShtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChtb2NrTmV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBkYXRlIHJhbmdlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrUmVxLmJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlUmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogJzIwMjUtMTItMzEnLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogJzIwMjUtMDEtMDEnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB2YWxpZGF0ZVJlcXVlc3QoYW5hbHlzaXNWYWxpZGF0aW9uKShtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChtb2NrTmV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgICAgICAgICBleHBlY3QuYW55KFZhbGlkYXRpb25FcnJvcilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBtZXRhZGF0YSBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1vY2tSZXEuYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkQnk6ICdKb2huIERvZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgdmFsaWRhdGVSZXF1ZXN0KGFuYWx5c2lzVmFsaWRhdGlvbikobW9ja1JlcSwgbW9ja1JlcywgbW9ja05leHQpO1xyXG4gICAgICAgICAgICBleHBlY3QobW9ja05leHQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOztBQUlBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLHlCQUF5QixFQUFFLE9BQU87RUFDeENDLElBQUksRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7QUFDbEIsQ0FBQyxDQUFDLENBQUM7QUFBQyxTQUFBSixZQUFBO0VBQUE7SUFBQUc7RUFBQSxJQUFBRSxPQUFBO0VBQUFMLFdBQUEsR0FBQUEsQ0FBQSxLQUFBRyxJQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBUEosTUFBTTtFQUFFRyxlQUFlO0VBQUVDO0FBQW1CLENBQUMsR0FBR0YsT0FBTyxDQUFDLHNDQUFzQyxDQUFDO0FBQy9GLE1BQU07RUFBRUc7QUFBZ0IsQ0FBQyxHQUFHSCxPQUFPLENBQUMsd0JBQXdCLENBQUM7QUFDN0QsTUFBTTtFQUFFSTtBQUFLLENBQUMsR0FBR0osT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBTzdDSyxRQUFRLENBQUMsK0JBQStCLEVBQUUsTUFBTTtFQUM1QyxJQUFJQyxPQUFPO0VBQ1gsSUFBSUMsT0FBTztFQUNYLElBQUlDLFFBQVE7RUFFWkMsVUFBVSxDQUFDLE1BQU07SUFDYkgsT0FBTyxHQUFHO01BQ05JLElBQUksRUFBRSxPQUFPO01BQ2JDLE9BQU8sRUFBRSxDQUFDLENBQUM7TUFDWFAsSUFBSSxFQUFFLENBQUM7SUFDWCxDQUFDO0lBQ0RHLE9BQU8sR0FBRztNQUNOSyxNQUFNLEVBQUVkLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ2MsY0FBYyxDQUFDLENBQUM7TUFDbENDLElBQUksRUFBRWhCLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRFMsUUFBUSxHQUFHVixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ3hCLENBQUMsQ0FBQztFQUVGTSxRQUFR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