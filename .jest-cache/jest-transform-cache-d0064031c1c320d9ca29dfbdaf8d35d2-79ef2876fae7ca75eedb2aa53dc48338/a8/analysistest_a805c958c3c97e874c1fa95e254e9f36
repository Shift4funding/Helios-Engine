2f570f089039691d6f69b96ceb5df0df
"use strict";

const request = require('supertest');
const path = require('path');
const fs = require('fs').promises;
const app = require('../../src/app'); // Fix the path to app
const {
  setupTestDatabase,
  cleanupTestDatabase
} = require('../helpers/testDb');
const {
  generateTestPDF
} = require('../helpers/pdfGenerator');
describe('Statement Analysis Integration', () => {
  const testPdfPath = path.join(__dirname, '../fixtures/test-statement.pdf');
  let testPdfBuffer;
  beforeAll(async () => {
    // Setup test environment
    await setupTestDatabase();

    // Generate test PDF if it doesn't exist
    try {
      testPdfBuffer = await fs.readFile(testPdfPath);
    } catch {
      testPdfBuffer = await generateTestPDF({
        bankName: 'Test Bank',
        accountNumber: '1234567890',
        transactions: [{
          date: '2025-01-01',
          description: 'SALARY DEPOSIT',
          amount: 5000
        }, {
          date: '2025-01-15',
          description: 'RENT PAYMENT',
          amount: -2000
        }, {
          date: '2025-01-31',
          description: 'UTILITIES',
          amount: -150
        }]
      });
      await fs.mkdir(path.dirname(testPdfPath), {
        recursive: true
      });
      await fs.writeFile(testPdfPath, testPdfBuffer);
    }
  });
  afterAll(async () => {
    await cleanupTestDatabase();
  });
  it('should upload PDF and return analysis', async () => {
    const response = await request(app).post('/api/analysis/upload').attach('statement', testPdfPath).expect('Content-Type', /json/).expect(200);
    expect(response.body).toMatchObject({
      id: expect.any(String),
      businessMetrics: {
        cashFlow: {
          monthlyAverages: expect.any(Object),
          stability: expect.any(Number),
          trends: expect.any(Array)
        },
        riskIndicators: {
          nsf: expect.any(Array),
          riskScore: expect.any(Number)
        },
        operatingStats: expect.any(Object),
        cashReserves: expect.any(Object)
      },
      metadata: {
        analyzedAt: expect.any(String),
        bankName: 'Test Bank',
        accountNumber: expect.any(String)
      }
    });
  });
  it('should return 400 if no file is uploaded', async () => {
    await request(app).post('/api/analysis/upload').expect(400).expect({
      error: 'No PDF file provided'
    });
  });
  it('should get analysis by ID', async () => {
    // First upload a statement
    const uploadResponse = await request(app).post('/api/analysis/upload').attach('statement', testPdfPath);
    const analysisId = uploadResponse.body.id;

    // Then retrieve the analysis
    const response = await request(app).get(`/api/analysis/${analysisId}`).expect(200);
    expect(response.body).toHaveProperty('businessMetrics');
    expect(response.body.id).toBe(analysisId);
  });
  it('should handle invalid PDF files', async () => {
    const invalidPdfPath = path.join(__dirname, '../fixtures/invalid.pdf');
    await fs.writeFile(invalidPdfPath, 'Not a PDF file');
    const response = await request(app).post('/api/analysis/upload').attach('statement', invalidPdfPath).expect(400);
    expect(response.body).toMatchObject({
      error: expect.stringContaining('Invalid PDF')
    });
    await fs.unlink(invalidPdfPath);
  });
  it('should analyze uploaded statement', async () => {
    const response = await request(app).post('/api/analysis').send({
      transactions: [{
        date: '2025-01-01',
        description: 'SALARY',
        amount: 5000
      }, {
        date: '2025-01-15',
        description: 'RENT',
        amount: -2000
      }]
    }).expect(200);
    expect(response.body).toMatchObject({
      businessMetrics: {
        cashFlow: expect.any(Object),
        riskIndicators: expect.any(Object)
      }
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsInBhdGgiLCJmcyIsInByb21pc2VzIiwiYXBwIiwic2V0dXBUZXN0RGF0YWJhc2UiLCJjbGVhbnVwVGVzdERhdGFiYXNlIiwiZ2VuZXJhdGVUZXN0UERGIiwiZGVzY3JpYmUiLCJ0ZXN0UGRmUGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJ0ZXN0UGRmQnVmZmVyIiwiYmVmb3JlQWxsIiwicmVhZEZpbGUiLCJiYW5rTmFtZSIsImFjY291bnROdW1iZXIiLCJ0cmFuc2FjdGlvbnMiLCJkYXRlIiwiZGVzY3JpcHRpb24iLCJhbW91bnQiLCJta2RpciIsImRpcm5hbWUiLCJyZWN1cnNpdmUiLCJ3cml0ZUZpbGUiLCJhZnRlckFsbCIsIml0IiwicmVzcG9uc2UiLCJwb3N0IiwiYXR0YWNoIiwiZXhwZWN0IiwiYm9keSIsInRvTWF0Y2hPYmplY3QiLCJpZCIsImFueSIsIlN0cmluZyIsImJ1c2luZXNzTWV0cmljcyIsImNhc2hGbG93IiwibW9udGhseUF2ZXJhZ2VzIiwiT2JqZWN0Iiwic3RhYmlsaXR5IiwiTnVtYmVyIiwidHJlbmRzIiwiQXJyYXkiLCJyaXNrSW5kaWNhdG9ycyIsIm5zZiIsInJpc2tTY29yZSIsIm9wZXJhdGluZ1N0YXRzIiwiY2FzaFJlc2VydmVzIiwibWV0YWRhdGEiLCJhbmFseXplZEF0IiwiZXJyb3IiLCJ1cGxvYWRSZXNwb25zZSIsImFuYWx5c2lzSWQiLCJnZXQiLCJ0b0hhdmVQcm9wZXJ0eSIsInRvQmUiLCJpbnZhbGlkUGRmUGF0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJ1bmxpbmsiLCJzZW5kIl0sInNvdXJjZXMiOlsiYW5hbHlzaXMudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKS5wcm9taXNlcztcclxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vLi4vc3JjL2FwcCcpOyAgLy8gRml4IHRoZSBwYXRoIHRvIGFwcFxyXG5jb25zdCB7IHNldHVwVGVzdERhdGFiYXNlLCBjbGVhbnVwVGVzdERhdGFiYXNlIH0gPSByZXF1aXJlKCcuLi9oZWxwZXJzL3Rlc3REYicpO1xyXG5jb25zdCB7IGdlbmVyYXRlVGVzdFBERiB9ID0gcmVxdWlyZSgnLi4vaGVscGVycy9wZGZHZW5lcmF0b3InKTtcclxuXHJcbmRlc2NyaWJlKCdTdGF0ZW1lbnQgQW5hbHlzaXMgSW50ZWdyYXRpb24nLCAoKSA9PiB7XHJcbiAgICBjb25zdCB0ZXN0UGRmUGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9maXh0dXJlcy90ZXN0LXN0YXRlbWVudC5wZGYnKTtcclxuICAgIGxldCB0ZXN0UGRmQnVmZmVyO1xyXG5cclxuICAgIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy8gU2V0dXAgdGVzdCBlbnZpcm9ubWVudFxyXG4gICAgICAgIGF3YWl0IHNldHVwVGVzdERhdGFiYXNlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gR2VuZXJhdGUgdGVzdCBQREYgaWYgaXQgZG9lc24ndCBleGlzdFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRlc3RQZGZCdWZmZXIgPSBhd2FpdCBmcy5yZWFkRmlsZSh0ZXN0UGRmUGF0aCk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIHRlc3RQZGZCdWZmZXIgPSBhd2FpdCBnZW5lcmF0ZVRlc3RQREYoe1xyXG4gICAgICAgICAgICAgICAgYmFua05hbWU6ICdUZXN0IEJhbmsnLFxyXG4gICAgICAgICAgICAgICAgYWNjb3VudE51bWJlcjogJzEyMzQ1Njc4OTAnLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBkYXRlOiAnMjAyNS0wMS0wMScsIGRlc2NyaXB0aW9uOiAnU0FMQVJZIERFUE9TSVQnLCBhbW91bnQ6IDUwMDAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGRhdGU6ICcyMDI1LTAxLTE1JywgZGVzY3JpcHRpb246ICdSRU5UIFBBWU1FTlQnLCBhbW91bnQ6IC0yMDAwIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBkYXRlOiAnMjAyNS0wMS0zMScsIGRlc2NyaXB0aW9uOiAnVVRJTElUSUVTJywgYW1vdW50OiAtMTUwIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGF3YWl0IGZzLm1rZGlyKHBhdGguZGlybmFtZSh0ZXN0UGRmUGF0aCksIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUodGVzdFBkZlBhdGgsIHRlc3RQZGZCdWZmZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGFmdGVyQWxsKGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCBjbGVhbnVwVGVzdERhdGFiYXNlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHVwbG9hZCBQREYgYW5kIHJldHVybiBhbmFseXNpcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAucG9zdCgnL2FwaS9hbmFseXNpcy91cGxvYWQnKVxyXG4gICAgICAgICAgICAuYXR0YWNoKCdzdGF0ZW1lbnQnLCB0ZXN0UGRmUGF0aClcclxuICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKVxyXG4gICAgICAgICAgICAuZXhwZWN0KDIwMCk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b01hdGNoT2JqZWN0KHtcclxuICAgICAgICAgICAgaWQ6IGV4cGVjdC5hbnkoU3RyaW5nKSxcclxuICAgICAgICAgICAgYnVzaW5lc3NNZXRyaWNzOiB7XHJcbiAgICAgICAgICAgICAgICBjYXNoRmxvdzoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRobHlBdmVyYWdlczogZXhwZWN0LmFueShPYmplY3QpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YWJpbGl0eTogZXhwZWN0LmFueShOdW1iZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyZW5kczogZXhwZWN0LmFueShBcnJheSlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByaXNrSW5kaWNhdG9yczoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5zZjogZXhwZWN0LmFueShBcnJheSksXHJcbiAgICAgICAgICAgICAgICAgICAgcmlza1Njb3JlOiBleHBlY3QuYW55KE51bWJlcilcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvcGVyYXRpbmdTdGF0czogZXhwZWN0LmFueShPYmplY3QpLFxyXG4gICAgICAgICAgICAgICAgY2FzaFJlc2VydmVzOiBleHBlY3QuYW55KE9iamVjdClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGFuYWx5emVkQXQ6IGV4cGVjdC5hbnkoU3RyaW5nKSxcclxuICAgICAgICAgICAgICAgIGJhbmtOYW1lOiAnVGVzdCBCYW5rJyxcclxuICAgICAgICAgICAgICAgIGFjY291bnROdW1iZXI6IGV4cGVjdC5hbnkoU3RyaW5nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgaWYgbm8gZmlsZSBpcyB1cGxvYWRlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvYW5hbHlzaXMvdXBsb2FkJylcclxuICAgICAgICAgICAgLmV4cGVjdCg0MDApXHJcbiAgICAgICAgICAgIC5leHBlY3Qoe1xyXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdObyBQREYgZmlsZSBwcm92aWRlZCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdldCBhbmFseXNpcyBieSBJRCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAvLyBGaXJzdCB1cGxvYWQgYSBzdGF0ZW1lbnRcclxuICAgICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAucG9zdCgnL2FwaS9hbmFseXNpcy91cGxvYWQnKVxyXG4gICAgICAgICAgICAuYXR0YWNoKCdzdGF0ZW1lbnQnLCB0ZXN0UGRmUGF0aCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFuYWx5c2lzSWQgPSB1cGxvYWRSZXNwb25zZS5ib2R5LmlkO1xyXG5cclxuICAgICAgICAvLyBUaGVuIHJldHJpZXZlIHRoZSBhbmFseXNpc1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvYW5hbHlzaXMvJHthbmFseXNpc0lkfWApXHJcbiAgICAgICAgICAgIC5leHBlY3QoMjAwKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkpLnRvSGF2ZVByb3BlcnR5KCdidXNpbmVzc01ldHJpY3MnKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5pZCkudG9CZShhbmFseXNpc0lkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgUERGIGZpbGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGludmFsaWRQZGZQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL2ZpeHR1cmVzL2ludmFsaWQucGRmJyk7XHJcbiAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKGludmFsaWRQZGZQYXRoLCAnTm90IGEgUERGIGZpbGUnKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvYW5hbHlzaXMvdXBsb2FkJylcclxuICAgICAgICAgICAgLmF0dGFjaCgnc3RhdGVtZW50JywgaW52YWxpZFBkZlBhdGgpXHJcbiAgICAgICAgICAgIC5leHBlY3QoNDAwKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkpLnRvTWF0Y2hPYmplY3Qoe1xyXG4gICAgICAgICAgICBlcnJvcjogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ0ludmFsaWQgUERGJylcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXdhaXQgZnMudW5saW5rKGludmFsaWRQZGZQYXRoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYW5hbHl6ZSB1cGxvYWRlZCBzdGF0ZW1lbnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvYW5hbHlzaXMnKVxyXG4gICAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IGRhdGU6ICcyMDI1LTAxLTAxJywgZGVzY3JpcHRpb246ICdTQUxBUlknLCBhbW91bnQ6IDUwMDAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGRhdGU6ICcyMDI1LTAxLTE1JywgZGVzY3JpcHRpb246ICdSRU5UJywgYW1vdW50OiAtMjAwMCB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5leHBlY3QoMjAwKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkpLnRvTWF0Y2hPYmplY3Qoe1xyXG4gICAgICAgICAgICBidXNpbmVzc01ldHJpY3M6IHtcclxuICAgICAgICAgICAgICAgIGNhc2hGbG93OiBleHBlY3QuYW55KE9iamVjdCksXHJcbiAgICAgICAgICAgICAgICByaXNrSW5kaWNhdG9yczogZXhwZWN0LmFueShPYmplY3QpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNRSxFQUFFLEdBQUdGLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQ0csUUFBUTtBQUNqQyxNQUFNQyxHQUFHLEdBQUdKLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFFO0FBQ3ZDLE1BQU07RUFBRUssaUJBQWlCO0VBQUVDO0FBQW9CLENBQUMsR0FBR04sT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBQy9FLE1BQU07RUFBRU87QUFBZ0IsQ0FBQyxHQUFHUCxPQUFPLENBQUMseUJBQXlCLENBQUM7QUFFOURRLFFBQVEsQ0FBQyxnQ0FBZ0MsRUFBRSxNQUFNO0VBQzdDLE1BQU1DLFdBQVcsR0FBR1IsSUFBSSxDQUFDUyxJQUFJLENBQUNDLFNBQVMsRUFBRSxnQ0FBZ0MsQ0FBQztFQUMxRSxJQUFJQyxhQUFhO0VBRWpCQyxTQUFTLENBQUMsWUFBWTtJQUNsQjtJQUNBLE1BQU1SLGlCQUFpQixDQUFDLENBQUM7O0lBRXpCO0lBQ0EsSUFBSTtNQUNBTyxhQUFhLEdBQUcsTUFBTVYsRUFBRSxDQUFDWSxRQUFRLENBQUNMLFdBQVcsQ0FBQztJQUNsRCxDQUFDLENBQUMsTUFBTTtNQUNKRyxhQUFhLEdBQUcsTUFBTUwsZUFBZSxDQUFDO1FBQ2xDUSxRQUFRLEVBQUUsV0FBVztRQUNyQkMsYUFBYSxFQUFFLFlBQVk7UUFDM0JDLFlBQVksRUFBRSxDQUNWO1VBQUVDLElBQUksRUFBRSxZQUFZO1VBQUVDLFdBQVcsRUFBRSxnQkFB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