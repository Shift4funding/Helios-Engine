b4842ac1bd7be0781c4ef6978b04c9bf
"use strict";

const logger = require('../../src/config/logger');
describe('Logger Configuration', () => {
  it('should have correct log level from config', () => {
    expect(logger.level).toBe(process.env.LOG_LEVEL || 'info');
  });
  it('should have appropriate transports based on environment', () => {
    const transportCount = process.env.NODE_ENV === 'production' ? 3 : 1;
    expect(logger.transports.length).toBe(transportCount);
  });
  it('should include service name in metadata', () => {
    const logMessage = 'Test log message';
    const spy = jest.spyOn(logger, 'info');
    logger.info(logMessage);
    expect(spy).toHaveBeenCalledWith(expect.stringContaining(logMessage), expect.objectContaining({
      service: 'bank-statement-analyzer'
    }));
    spy.mockRestore();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dnZXIiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJpdCIsImV4cGVjdCIsImxldmVsIiwidG9CZSIsInByb2Nlc3MiLCJlbnYiLCJMT0dfTEVWRUwiLCJ0cmFuc3BvcnRDb3VudCIsIk5PREVfRU5WIiwidHJhbnNwb3J0cyIsImxlbmd0aCIsImxvZ01lc3NhZ2UiLCJzcHkiLCJqZXN0Iiwic3B5T24iLCJpbmZvIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJzdHJpbmdDb250YWluaW5nIiwib2JqZWN0Q29udGFpbmluZyIsInNlcnZpY2UiLCJtb2NrUmVzdG9yZSJdLCJzb3VyY2VzIjpbImxvZ2dlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJy4uLy4uL3NyYy9jb25maWcvbG9nZ2VyJyk7XHJcblxyXG5kZXNjcmliZSgnTG9nZ2VyIENvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhdmUgY29ycmVjdCBsb2cgbGV2ZWwgZnJvbSBjb25maWcnLCAoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KGxvZ2dlci5sZXZlbCkudG9CZShwcm9jZXNzLmVudi5MT0dfTEVWRUwgfHwgJ2luZm8nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGF2ZSBhcHByb3ByaWF0ZSB0cmFuc3BvcnRzIGJhc2VkIG9uIGVudmlyb25tZW50JywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydENvdW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IDMgOiAxO1xyXG4gICAgICAgIGV4cGVjdChsb2dnZXIudHJhbnNwb3J0cy5sZW5ndGgpLnRvQmUodHJhbnNwb3J0Q291bnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHNlcnZpY2UgbmFtZSBpbiBtZXRhZGF0YScsICgpID0+IHtcclxuICAgICAgICBjb25zdCBsb2dNZXNzYWdlID0gJ1Rlc3QgbG9nIG1lc3NhZ2UnO1xyXG4gICAgICAgIGNvbnN0IHNweSA9IGplc3Quc3B5T24obG9nZ2VyLCAnaW5mbycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxvZ2dlci5pbmZvKGxvZ01lc3NhZ2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZyhsb2dNZXNzYWdlKSxcclxuICAgICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgICAgICAgICAgc2VydmljZTogJ2Jhbmstc3RhdGVtZW50LWFuYWx5emVyJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3B5Lm1vY2tSZXN0b3JlKCk7XHJcbiAgICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLHlCQUF5QixDQUFDO0FBRWpEQyxRQUFRLENBQUMsc0JBQXNCLEVBQUUsTUFBTTtFQUNuQ0MsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLE1BQU07SUFDbERDLE1BQU0sQ0FBQ0osTUFBTSxDQUFDSyxLQUFLLENBQUMsQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsU0FBUyxJQUFJLE1BQU0sQ0FBQztFQUM5RCxDQUFDLENBQUM7RUFFRk4sRUFBRSxDQUFDLHlEQUF5RCxFQUFFLE1BQU07SUFDaEUsTUFBTU8sY0FBYyxHQUFHSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csUUFBUSxLQUFLLFlBQVksR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUNwRVAsTUFBTSxDQUFDSixNQUFNLENBQUNZLFVBQVUsQ0FBQ0MsTUFBTSxDQUFDLENBQUNQLElBQUksQ0FBQ0ksY0FBYyxDQUFDO0VBQ3pELENBQUMsQ0FBQztFQUVGUCxFQUFFLENBQUMseUNBQXlDLEVBQUUsTUFBTTtJQUNoRCxNQUFNVyxVQUFVLEdBQUcsa0JBQWtCO0lBQ3JDLE1BQU1DLEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNqQixNQUFNLEVBQUUsTUFBTSxDQUFDO0lBRXRDQSxNQUFNLENBQUNrQixJQUFJLENBQUNKLFVBQVUsQ0FBQztJQUV2QlYsTUFBTSxDQUFDVyxHQUFHLENBQUMsQ0FBQ0ksb0JBQW9CLENBQzVCZixNQUFNLENBQUNnQixnQkFBZ0IsQ0FBQ04sVUFBVSxDQUFDLEVBQ25DVixNQUFNLENBQUNpQixnQkFBZ0IsQ0FBQztNQUNwQkMsT0FBTyxFQUFFO0lBQ2IsQ0FBQyxDQUNMLENBQUM7SUFFRFAsR0FBRyxDQUFDUSxXQUFXLENBQUMsQ0FBQztFQUNyQixDQUFDLENBQUM7QUFDTixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=