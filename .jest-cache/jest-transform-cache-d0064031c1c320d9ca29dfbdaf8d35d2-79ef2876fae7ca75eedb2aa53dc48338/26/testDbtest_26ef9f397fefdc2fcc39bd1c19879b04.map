{"version":3,"names":["mongoose","require","setupTestDatabase","cleanupTestDatabase","describe","beforeAll","afterAll","it","expect","connection","readyState","toBe","TestModel","model","Schema","name","String","testDoc","save","found","findOne","deleteMany"],"sources":["testDb.test.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst { setupTestDatabase, cleanupTestDatabase } = require('./testDb');\r\n\r\ndescribe('Database Setup', () => {\r\n    // Clean up before tests to ensure no existing connections\r\n    beforeAll(async () => {\r\n        await cleanupTestDatabase();\r\n        await setupTestDatabase();\r\n    });\r\n\r\n    // Clean up after tests\r\n    afterAll(async () => {\r\n        await cleanupTestDatabase();\r\n    });\r\n\r\n    it('should connect to the test database', async () => {\r\n        expect(mongoose.connection.readyState).toBe(1);\r\n    });\r\n\r\n    it('should be able to perform operations', async () => {\r\n        // Create a new model for testing\r\n        const TestModel = mongoose.model('Test', new mongoose.Schema({ \r\n            name: String \r\n        }), 'tests');\r\n\r\n        // Test CRUD operations\r\n        const testDoc = new TestModel({ name: 'test' });\r\n        await testDoc.save();\r\n\r\n        const found = await TestModel.findOne({ name: 'test' });\r\n        expect(found.name).toBe('test');\r\n\r\n        // Clean up test data\r\n        await TestModel.deleteMany({});\r\n    });\r\n});"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAM;EAAEC,iBAAiB;EAAEC;AAAoB,CAAC,GAAGF,OAAO,CAAC,UAAU,CAAC;AAEtEG,QAAQ,CAAC,gBAAgB,EAAE,MAAM;EAC7B;EACAC,SAAS,CAAC,YAAY;IAClB,MAAMF,mBAAmB,CAAC,CAAC;IAC3B,MAAMD,iBAAiB,CAAC,CAAC;EAC7B,CAAC,CAAC;;EAEF;EACAI,QAAQ,CAAC,YAAY;IACjB,MAAMH,mBAAmB,CAAC,CAAC;EAC/B,CAAC,CAAC;EAEFI,EAAE,CAAC,qCAAqC,EAAE,YAAY;IAClDC,MAAM,CAACR,QAAQ,CAACS,UAAU,CAACC,UAAU,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EAClD,CAAC,CAAC;EAEFJ,EAAE,CAAC,sCAAsC,EAAE,YAAY;IACnD;IACA,MAAMK,SAAS,GAAGZ,QAAQ,CAACa,KAAK,CAAC,MAAM,EAAE,IAAIb,QAAQ,CAACc,MAAM,CAAC;MACzDC,IAAI,EAAEC;IACV,CAAC,CAAC,EAAE,OAAO,CAAC;;IAEZ;IACA,MAAMC,OAAO,GAAG,IAAIL,SAAS,CAAC;MAAEG,IAAI,EAAE;IAAO,CAAC,CAAC;IAC/C,MAAME,OAAO,CAACC,IAAI,CAAC,CAAC;IAEpB,MAAMC,KAAK,GAAG,MAAMP,SAAS,CAACQ,OAAO,CAAC;MAAEL,IAAI,EAAE;IAAO,CAAC,CAAC;IACvDP,MAAM,CAACW,KAAK,CAACJ,IAAI,CAAC,CAACJ,IAAI,CAAC,MAAM,CAAC;;IAE/B;IACA,MAAMC,SAAS,CAACS,UAAU,CAAC,CAAC,CAAC,CAAC;EAClC,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}