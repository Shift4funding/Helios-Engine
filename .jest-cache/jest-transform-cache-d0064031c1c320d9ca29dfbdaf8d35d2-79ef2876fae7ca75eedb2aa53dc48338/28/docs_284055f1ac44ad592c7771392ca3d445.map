{"version":3,"names":["express","require","dotenv","app","config","logger","connectDB","swaggerUi","swaggerJsdoc","error","console","process","exit","options","definition","openapi","info","title","version","description","servers","url","apis","swaggerSpec","router","Router","use","serve","get","setup","startServer","server","listen","port","env","host","module","exports"],"sources":["docs.js"],"sourcesContent":["const express = require('express');\r\nconst dotenv = require('dotenv');\r\nconst app = require('../app');  // Fix the relative path\r\nconst config = require('./config/env');\r\nconst logger = require('./config/logger');\r\nconst connectDB = require('./config/database');\r\nconst swaggerUi = require('swagger-ui-express');\r\nconst swaggerJsdoc = require('swagger-jsdoc');\r\n\r\n// Load environment variables from .env file\r\ndotenv.config();\r\n\r\n// Verify required dependencies\r\ntry {\r\n    require('swagger-ui-express');\r\n    require('swagger-jsdoc');\r\n} catch (error) {\r\n    console.error('Missing required dependencies. Please run:');\r\n    console.error('npm install swagger-ui-express swagger-jsdoc');\r\n    process.exit(1);\r\n}\r\n\r\nconst options = {\r\n    definition: {\r\n        openapi: '3.0.0',\r\n        info: {\r\n            title: 'Bank Statement Analyzer API',\r\n            version: '1.0.0',\r\n            description: 'API for analyzing bank statements'\r\n        },\r\n        servers: [\r\n            {\r\n                url: 'http://localhost:3000',\r\n                description: 'Development server'\r\n            }\r\n        ]\r\n    },\r\n    apis: ['./src/routes/*.js']\r\n};\r\n\r\nconst swaggerSpec = swaggerJsdoc(options);\r\n\r\nconst router = express.Router();\r\n\r\nrouter.use('/', swaggerUi.serve);\r\nrouter.get('/', swaggerUi.setup(swaggerSpec));\r\n\r\napp.use('/api-docs', router);\r\n\r\nasync function startServer() {\r\n    try {\r\n        // Connect to MongoDB\r\n        await connectDB();\r\n\r\n        const server = app.listen(config.server.port, () => {\r\n            logger.info(`Server running in ${config.env} mode on http://${config.server.host}:${config.server.port}`);\r\n            logger.info(`API Documentation available at http://${config.server.host}:${config.server.port}/api-docs`);\r\n        });\r\n\r\n        // ...existing code...\r\n    } catch (error) {\r\n        logger.error('Failed to start server:', error);\r\n        process.exit(1);\r\n    }\r\n}\r\n\r\nstartServer();\r\n\r\nmodule.exports = router;"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAME,GAAG,GAAGF,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAE;AAChC,MAAMG,MAAM,GAAGH,OAAO,CAAC,cAAc,CAAC;AACtC,MAAMI,MAAM,GAAGJ,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMK,SAAS,GAAGL,OAAO,CAAC,mBAAmB,CAAC;AAC9C,MAAMM,SAAS,GAAGN,OAAO,CAAC,oBAAoB,CAAC;AAC/C,MAAMO,YAAY,GAAGP,OAAO,CAAC,eAAe,CAAC;;AAE7C;AACAC,MAAM,CAACE,MAAM,CAAC,CAAC;;AAEf;AACA,IAAI;EACAH,OAAO,CAAC,oBAAoB,CAAC;EAC7BA,OAAO,CAAC,eAAe,CAAC;AAC5B,CAAC,CAAC,OAAOQ,KAAK,EAAE;EACZC,OAAO,CAACD,KAAK,CAAC,4CAA4C,CAAC;EAC3DC,OAAO,CAACD,KAAK,CAAC,8CAA8C,CAAC;EAC7DE,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;AACnB;AAEA,MAAMC,OAAO,GAAG;EACZC,UAAU,EAAE;IACRC,OAAO,EAAE,OAAO;IAChBC,IAAI,EAAE;MACFC,KAAK,EAAE,6BAA6B;MACpCC,OAAO,EAAE,OAAO;MAChBC,WAAW,EAAE;IACjB,CAAC;IACDC,OAAO,EAAE,CACL;MACIC,GAAG,EAAE,uBAAuB;MAC5BF,WAAW,EAAE;IACjB,CAAC;EAET,CAAC;EACDG,IAAI,EAAE,CAAC,mBAAmB;AAC9B,CAAC;AAED,MAAMC,WAAW,GAAGf,YAAY,CAACK,OAAO,CAAC;AAEzC,MAAMW,MAAM,GAAGxB,OAAO,CAACyB,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEnB,SAAS,CAACoB,KAAK,CAAC;AAChCH,MAAM,CAACI,GAAG,CAAC,GAAG,EAAErB,SAAS,CAACsB,KAAK,CAACN,WAAW,CAAC,CAAC;AAE7CpB,GAAG,CAACuB,GAAG,CAAC,WAAW,EAAEF,MAAM,CAAC;AAE5B,eAAeM,WAAWA,CAAA,EAAG;EACzB,IAAI;IACA;IACA,MAAMxB,SAAS,CAAC,CAAC;IAEjB,MAAMyB,MAAM,GAAG5B,GAAG,CAAC6B,MAAM,CAAC5B,MAAM,CAAC2B,MAAM,CAACE,IAAI,EAAE,MAAM;MAChD5B,MAAM,CAACW,IAAI,CAAC,qBAAqBZ,MAAM,CAAC8B,GAAG,mBAAmB9B,MAAM,CAAC2B,MAAM,CAACI,IAAI,IAAI/B,MAAM,CAAC2B,MAAM,CAACE,IAAI,EAAE,CAAC;MACzG5B,MAAM,CAACW,IAAI,CAAC,yCAAyCZ,MAAM,CAAC2B,MAAM,CAACI,IAAI,IAAI/B,MAAM,CAAC2B,MAAM,CAACE,IAAI,WAAW,CAAC;IAC7G,CAAC,CAAC;;IAEF;EACJ,CAAC,CAAC,OAAOxB,KAAK,EAAE;IACZJ,MAAM,CAACI,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC9CE,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EACnB;AACJ;AAEAkB,WAAW,CAAC,CAAC;AAEbM,MAAM,CAACC,OAAO,GAAGb,MAAM","ignoreList":[]}