27407e416b6d795820f7ea9ca312ee3e
"use strict";

const request = require('supertest');
const app = require('../../src/app');
describe('API Documentation', () => {
  it('should serve Swagger documentation', async () => {
    const response = await request(app).get('/api-docs/').expect('Content-Type', /html/).expect(200);
    expect(response.text).toContain('swagger-ui');
    expect(response.text).toContain('Bank Statement Analyzer API');
  });
  it('should serve OpenAPI specification', async () => {
    const response = await request(app).get('/api-docs/swagger.json').expect('Content-Type', /application\/json/).expect(200);
    expect(response.body.openapi).toBe('3.0.0');
    expect(response.body.info.title).toBe('Bank Statement Analyzer API');
    expect(response.body.servers).toBeDefined();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsImRlc2NyaWJlIiwiaXQiLCJyZXNwb25zZSIsImdldCIsImV4cGVjdCIsInRleHQiLCJ0b0NvbnRhaW4iLCJib2R5Iiwib3BlbmFwaSIsInRvQmUiLCJpbmZvIiwidGl0bGUiLCJzZXJ2ZXJzIiwidG9CZURlZmluZWQiXSwic291cmNlcyI6WyJkb2NzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xyXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi8uLi9zcmMvYXBwJyk7XHJcblxyXG5kZXNjcmliZSgnQVBJIERvY3VtZW50YXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHNlcnZlIFN3YWdnZXIgZG9jdW1lbnRhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAuZ2V0KCcvYXBpLWRvY3MvJylcclxuICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2h0bWwvKVxyXG4gICAgICAgICAgICAuZXhwZWN0KDIwMCk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS50ZXh0KS50b0NvbnRhaW4oJ3N3YWdnZXItdWknKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UudGV4dCkudG9Db250YWluKCdCYW5rIFN0YXRlbWVudCBBbmFseXplciBBUEknKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc2VydmUgT3BlbkFQSSBzcGVjaWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgIC5nZXQoJy9hcGktZG9jcy9zd2FnZ2VyLmpzb24nKVxyXG4gICAgICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvYXBwbGljYXRpb25cXC9qc29uLylcclxuICAgICAgICAgICAgLmV4cGVjdCgyMDApO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5vcGVuYXBpKS50b0JlKCczLjAuMCcpO1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmluZm8udGl0bGUpLnRvQmUoJ0JhbmsgU3RhdGVtZW50IEFuYWx5emVyIEFQSScpO1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnNlcnZlcnMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNwQyxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFFcENFLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxNQUFNO0VBQ2hDQyxFQUFFLENBQUMsb0NBQW9DLEVBQUUsWUFBWTtJQUNqRCxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDOUJJLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FDakJDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLENBQzlCQSxNQUFNLENBQUMsR0FBRyxDQUFDO0lBRWhCQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDLENBQUNDLFNBQVMsQ0FBQyxZQUFZLENBQUM7SUFDN0NGLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLDZCQUE2QixDQUFDO0VBQ2xFLENBQUMsQ0FBQztFQUVGTCxFQUFFLENBQUMsb0NBQW9DLEVBQUUsWUFBWTtJQUNqRCxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDOUJJLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUM3QkMsTUFBTSxDQUFDLGNBQWMsRUFBRSxtQkFBbUIsQ0FBQyxDQUMzQ0EsTUFBTSxDQUFDLEdBQUcsQ0FBQztJQUVoQkEsTUFBTSxDQUFDRixRQUFRLENBQUNLLElBQUksQ0FBQ0MsT0FBTyxDQUFDLENBQUNDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDM0NMLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDSyxJQUFJLENBQUNHLElBQUksQ0FBQ0MsS0FBSyxDQUFDLENBQUNGLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztJQUNwRUwsTUFBTSxDQUFDRixRQUFRLENBQUNLLElBQUksQ0FBQ0ssT0FBTyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0VBQy9DLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==