{"version":3,"names":["_getJestObj","mock","jest","fn","mockImplementation","ping","mockResolvedValue","set","get","key","Promise","resolve","JSON","stringify","data","quit","on","require","config","RedisService","describe","beforeAll","connect","afterAll","disconnect","it","value","result","expect","toEqual","originalClient","client","rejects","toThrow"],"sources":["RedisService.test.js"],"sourcesContent":["require('dotenv').config();\r\nconst RedisService = require('../../src/services/RedisService');\r\n\r\n// Mock Redis client\r\njest.mock('ioredis', () => {\r\n    return jest.fn().mockImplementation(() => ({\r\n        ping: jest.fn().mockResolvedValue('PONG'),\r\n        set: jest.fn().mockResolvedValue('OK'),\r\n        get: jest.fn().mockImplementation((key) => {\r\n            return Promise.resolve(JSON.stringify({ data: 'test-value' }));\r\n        }),\r\n        quit: jest.fn().mockResolvedValue('OK'),\r\n        on: jest.fn()\r\n    }));\r\n});\r\n\r\ndescribe('RedisService', () => {\r\n    beforeAll(async () => {\r\n        await RedisService.connect();\r\n    });\r\n\r\n    afterAll(async () => {\r\n        await RedisService.disconnect();\r\n    });\r\n\r\n    it('should set and get a value', async () => {\r\n        const key = 'test-key';\r\n        const value = { data: 'test-value' };\r\n        \r\n        await RedisService.set(key, value);\r\n        const result = await RedisService.get(key);\r\n        \r\n        expect(result).toEqual(value);\r\n    });\r\n\r\n    it('should handle connection errors', async () => {\r\n        const originalClient = RedisService.client;\r\n        RedisService.client = null;\r\n\r\n        await expect(RedisService.set('key', 'value'))\r\n            .rejects\r\n            .toThrow('Redis not connected');\r\n\r\n        RedisService.client = originalClient;\r\n    });\r\n});"],"mappings":";;AAGA;AACAA,WAAA,GAAKC,IAAI,CAAC,SAAS,EAAE,MAAM;EACvB,OAAOC,IAAI,CAACC,EAAE,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO;IACvCC,IAAI,EAAEH,IAAI,CAACC,EAAE,CAAC,CAAC,CAACG,iBAAiB,CAAC,MAAM,CAAC;IACzCC,GAAG,EAAEL,IAAI,CAACC,EAAE,CAAC,CAAC,CAACG,iBAAiB,CAAC,IAAI,CAAC;IACtCE,GAAG,EAAEN,IAAI,CAACC,EAAE,CAAC,CAAC,CAACC,kBAAkB,CAAEK,GAAG,IAAK;MACvC,OAAOC,OAAO,CAACC,OAAO,CAACC,IAAI,CAACC,SAAS,CAAC;QAAEC,IAAI,EAAE;MAAa,CAAC,CAAC,CAAC;IAClE,CAAC,CAAC;IACFC,IAAI,EAAEb,IAAI,CAACC,EAAE,CAAC,CAAC,CAACG,iBAAiB,CAAC,IAAI,CAAC;IACvCU,EAAE,EAAEd,IAAI,CAACC,EAAE,CAAC;EAChB,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AAAC,SAAAH,YAAA;EAAA;IAAAE;EAAA,IAAAe,OAAA;EAAAjB,WAAA,GAAAA,CAAA,KAAAE,IAAA;EAAA,OAAAA,IAAA;AAAA;AAdHe,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;AAC1B,MAAMC,YAAY,GAAGF,OAAO,CAAC,iCAAiC,CAAC;AAe/DG,QAAQ,CAAC,cAAc,EAAE,MAAM;EAC3BC,SAAS,CAAC,YAAY;IAClB,MAAMF,YAAY,CAACG,OAAO,CAAC,CAAC;EAChC,CAAC,CAAC;EAEFC,QAAQ,CAAC,YAAY;IACjB,MAAMJ,YAAY,CAACK,UAAU,CAAC,CAAC;EACnC,CAAC,CAAC;EAEFC,EAAE,CAAC,4BAA4B,EAAE,YAAY;IACzC,MAAMhB,GAAG,GAAG,UAAU;IACtB,MAAMiB,KAAK,GAAG;MAAEZ,IAAI,EAAE;IAAa,CAAC;IAEpC,MAAMK,YAAY,CAACZ,GAAG,CAACE,GAAG,EAAEiB,KAAK,CAAC;IAClC,MAAMC,MAAM,GAAG,MAAMR,YAAY,CAACX,GAAG,CAACC,GAAG,CAAC;IAE1CmB,MAAM,CAACD,MAAM,CAAC,CAACE,OAAO,CAACH,KAAK,CAAC;EACjC,CAAC,CAAC;EAEFD,EAAE,CAAC,iCAAiC,EAAE,YAAY;IAC9C,MAAMK,cAAc,GAAGX,YAAY,CAACY,MAAM;IAC1CZ,YAAY,CAACY,MAAM,GAAG,IAAI;IAE1B,MAAMH,MAAM,CAACT,YAAY,CAACZ,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CACzCyB,OAAO,CACPC,OAAO,CAAC,qBAAqB,CAAC;IAEnCd,YAAY,CAACY,MAAM,GAAGD,cAAc;EACxC,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}