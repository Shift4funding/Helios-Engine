e75deb4b27247c5ce259f9a10c7ebc3e
"use strict";

const healthCheck = require('../../src/middleware/healthCheck');
describe('Health Check', () => {
  it('should return healthy status when Redis is up', async () => {
    const health = await healthCheck.check();
    expect(health.status).toBe('healthy');
    expect(health.redis.status).toBe('up');
    expect(health.redis.latency).toBeDefined();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoZWFsdGhDaGVjayIsInJlcXVpcmUiLCJkZXNjcmliZSIsIml0IiwiaGVhbHRoIiwiY2hlY2siLCJleHBlY3QiLCJzdGF0dXMiLCJ0b0JlIiwicmVkaXMiLCJsYXRlbmN5IiwidG9CZURlZmluZWQiXSwic291cmNlcyI6WyJoZWFsdGhDaGVjay50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGhlYWx0aENoZWNrID0gcmVxdWlyZSgnLi4vLi4vc3JjL21pZGRsZXdhcmUvaGVhbHRoQ2hlY2snKTtcclxuXHJcbmRlc2NyaWJlKCdIZWFsdGggQ2hlY2snLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBoZWFsdGh5IHN0YXR1cyB3aGVuIFJlZGlzIGlzIHVwJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IGhlYWx0aENoZWNrLmNoZWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KGhlYWx0aC5zdGF0dXMpLnRvQmUoJ2hlYWx0aHknKTtcclxuICAgICAgICBleHBlY3QoaGVhbHRoLnJlZGlzLnN0YXR1cykudG9CZSgndXAnKTtcclxuICAgICAgICBleHBlY3QoaGVhbHRoLnJlZGlzLmxhdGVuY3kpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGtDQUFrQyxDQUFDO0FBRS9EQyxRQUFRLENBQUMsY0FBYyxFQUFFLE1BQU07RUFDM0JDLEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxZQUFZO0lBQzVELE1BQU1DLE1BQU0sR0FBRyxNQUFNSixXQUFXLENBQUNLLEtBQUssQ0FBQyxDQUFDO0lBQ3hDQyxNQUFNLENBQUNGLE1BQU0sQ0FBQ0csTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDckNGLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDSyxLQUFLLENBQUNGLE1BQU0sQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3RDRixNQUFNLENBQUNGLE1BQU0sQ0FBQ0ssS0FBSyxDQUFDQyxPQUFPLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7RUFDOUMsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119