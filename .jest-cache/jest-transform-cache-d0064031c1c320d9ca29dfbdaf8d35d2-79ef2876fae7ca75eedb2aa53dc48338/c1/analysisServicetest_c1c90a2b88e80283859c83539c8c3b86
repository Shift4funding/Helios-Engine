119111805c4c37e19fd16b4e9b3f9646
"use strict";

const analysisService = require('../../src/services/analysisService');
const fs = require('fs').promises;
const path = require('path');
describe('Analysis Service', () => {
  test('should analyze bank statement PDF', async () => {
    const buffer = await fs.readFile(path.join(__dirname, '../fixtures/sample-statement.pdf'));
    const result = await analysisService.analyzeBankStatement(buffer);
    expect(result).toHaveProperty('totalPages');
    expect(result).toHaveProperty('analysis');
    expect(result).toHaveProperty('timestamp');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbmFseXNpc1NlcnZpY2UiLCJyZXF1aXJlIiwiZnMiLCJwcm9taXNlcyIsInBhdGgiLCJkZXNjcmliZSIsInRlc3QiLCJidWZmZXIiLCJyZWFkRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyZXN1bHQiLCJhbmFseXplQmFua1N0YXRlbWVudCIsImV4cGVjdCIsInRvSGF2ZVByb3BlcnR5Il0sInNvdXJjZXMiOlsiYW5hbHlzaXNTZXJ2aWNlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYW5hbHlzaXNTZXJ2aWNlID0gcmVxdWlyZSgnLi4vLi4vc3JjL3NlcnZpY2VzL2FuYWx5c2lzU2VydmljZScpO1xyXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykucHJvbWlzZXM7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcblxyXG5kZXNjcmliZSgnQW5hbHlzaXMgU2VydmljZScsICgpID0+IHtcclxuICAgIHRlc3QoJ3Nob3VsZCBhbmFseXplIGJhbmsgc3RhdGVtZW50IFBERicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBmcy5yZWFkRmlsZShcclxuICAgICAgICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL2ZpeHR1cmVzL3NhbXBsZS1zdGF0ZW1lbnQucGRmJylcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhbmFseXNpc1NlcnZpY2UuYW5hbHl6ZUJhbmtTdGF0ZW1lbnQoYnVmZmVyKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3RvdGFsUGFnZXMnKTtcclxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnYW5hbHlzaXMnKTtcclxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XHJcbiAgICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGVBQWUsR0FBR0MsT0FBTyxDQUFDLG9DQUFvQyxDQUFDO0FBQ3JFLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDRSxRQUFRO0FBQ2pDLE1BQU1DLElBQUksR0FBR0gsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUU1QkksUUFBUSxDQUFDLGtCQUFrQixFQUFFLE1BQU07RUFDL0JDLElBQUksQ0FBQyxtQ0FBbUMsRUFBRSxZQUFZO0lBQ2xELE1BQU1DLE1BQU0sR0FBRyxNQUFNTCxFQUFFLENBQUNNLFFBQVEsQ0FDNUJKLElBQUksQ0FBQ0ssSUFBSSxDQUFDQyxTQUFTLEVBQUUsa0NBQWtDLENBQzNELENBQUM7SUFFRCxNQUFNQyxNQUFNLEdBQUcsTUFBTVgsZUFBZSxDQUFDWSxvQkFBb0IsQ0FBQ0wsTUFBTSxDQUFDO0lBRWpFTSxNQUFNLENBQUNGLE1BQU0sQ0FBQyxDQUFDRyxjQUFjLENBQUMsWUFBWSxDQUFDO0lBQzNDRCxNQUFNLENBQUNGLE1BQU0sQ0FBQyxDQUFDRyxjQUFjLENBQUMsVUFBVSxDQUFDO0lBQ3pDRCxNQUFNLENBQUNGLE1BQU0sQ0FBQyxDQUFDRyxjQUFjLENBQUMsV0FBVyxDQUFDO0VBQzlDLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==